<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>STLL: Tutorial</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">STLL
   &#160;<span id="projectnumber">0.0</span>
   </div>
   <div id="projectbrief">Simple Text Layouting Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('tutorial_pg.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Tutorial </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>To layout text you basically have two options:</p><ul>
<li>use the paragraph layouter</li>
<li>use the XHTML layouter</li>
</ul>
<h1><a class="anchor" id="tut_basic_sec"></a>
Using the Paragraph Layouter and the SDL output</h1>
<p>The paragraph layouter is a basic layouter for one or more paragraphs of text. Its input is a unicode string, some settings and a set of properties for each and every character in the string to format.</p>
<p>That way it is possible to change a single character to underlined, or red or make is using a different font</p>
<p>To use the paragraph layouter you need to use code like the following: </p><div class="fragment"><div class="line"><span class="comment">// includes for the layouter and the SDL output functions, if you want to</span></div>
<div class="line"><span class="comment">// output the text using a different graphics library, you need a different</span></div>
<div class="line"><span class="comment">// include here</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="layouter_8h.html">stll/layouter.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="output___s_d_l_8h.html">stll/output_SDL.h</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// all STLL symbols are in the namespace STLL</span></div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_s_t_l_l.html">STLL</a>;</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main()</div>
<div class="line">{</div>
<div class="line">  <span class="comment">// create a font cache to get fonts. the font cache will take care of</span></div>
<div class="line">  <span class="comment">// opening font files and providing it to the application. you need to</span></div>
<div class="line">  <span class="comment">// keep the object alive until you are done with the layouting and the output</span></div>
<div class="line">  <span class="comment">// usually you will have one font cache per application</span></div>
<div class="line">  <a class="code" href="class_s_t_l_l_1_1_font_cache__c.html">FontCache_c</a> fc;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// setup the attributes for the text you want to output</span></div>
<div class="line">  <span class="comment">// we use a font from the fontcache and the color white</span></div>
<div class="line">  <span class="comment">// we also use the English language</span></div>
<div class="line">  <span class="comment">// keep in mind that the font size is given in units of 1/64th, so</span></div>
<div class="line">  <span class="comment">// multiply by 64</span></div>
<div class="line">  <a class="code" href="class_s_t_l_l_1_1_codepoint_attributes__c.html">CodepointAttributes_c</a> attr;</div>
<div class="line">  attr.<a class="code" href="class_s_t_l_l_1_1_codepoint_attributes__c.html#a66a7b8da57506db6ab7f69c1a25d5af8">font</a> = fc.<a class="code" href="class_s_t_l_l_1_1_font_cache__c.html#a15da3357ff0b5336f97960ee7949991f">getFont</a>(<a class="code" href="class_s_t_l_l_1_1_font_resource__c.html">FontResource_c</a>(<span class="stringliteral">&quot;tests/FreeSans.ttf&quot;</span>), 20*64);</div>
<div class="line">  attr.<a class="code" href="class_s_t_l_l_1_1_codepoint_attributes__c.html#a90967aca24ccb9148956dfa80c4361fa">c</a> = <a class="code" href="class_s_t_l_l_1_1_color__c.html">Color_c</a>(255, 255, 255);</div>
<div class="line">  attr.<a class="code" href="class_s_t_l_l_1_1_codepoint_attributes__c.html#aea2a394f4ea12aacfcce261019e295bc">lang</a> = <span class="stringliteral">&quot;en&quot;</span>;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// setup the attribute index. This index assigns attributes to</span></div>
<div class="line">  <span class="comment">// all the characters in your text, the way we create it here</span></div>
<div class="line">  <span class="comment">// will setup the index in such a way, that _all_ characters will</span></div>
<div class="line">  <span class="comment">// have the given attribute</span></div>
<div class="line">  <a class="code" href="class_s_t_l_l_1_1_attribute_index__c.html">AttributeIndex_c</a> ai(attr);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// just to show how: make the 6th glyph (the W) red</span></div>
<div class="line">  attr.<a class="code" href="class_s_t_l_l_1_1_codepoint_attributes__c.html#a90967aca24ccb9148956dfa80c4361fa">c</a> = <a class="code" href="class_s_t_l_l_1_1_color__c.html">Color_c</a>(255, 0, 0);</div>
<div class="line">  ai.set(6, attr);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// layouting properties, the default is good enough for us right now</span></div>
<div class="line">  <a class="code" href="class_s_t_l_l_1_1_layout_properties__c.html">LayoutProperties_c</a> prop;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// now layout the text &quot;Hello World&quot; with the given attributes, put</span></div>
<div class="line">  <span class="comment">// it into a rectangle of width 200 pixel and use our layouting properties</span></div>
<div class="line">  <span class="comment">// the text needs to be utf-32 encoded for this function</span></div>
<div class="line">  <span class="keyword">auto</span> layout = <a class="code" href="namespace_s_t_l_l.html#ab663fe7dceae4de54ddc5076a4c8c2dc">layoutParagraph</a>(U<span class="stringliteral">&quot;Hello World&quot;</span>, ai, <a class="code" href="class_s_t_l_l_1_1_rectangle_shape__c.html">RectangleShape_c</a>(200*64), prop);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// that is it, now you can output the layout, using one of the Output</span></div>
<div class="line">  <span class="comment">// driver functions, e.g. using the SDL driver you can output the text</span></div>
<div class="line">  <span class="comment">// at position 20, 20 on the given surface (also in units of 1/64th)</span></div>
<div class="line">  SDL_Surface *screen = SDL_SetVideoMode(800, 600, 32, SDL_SWSURFACE | SDL_DOUBLEBUF);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// create the output object, with glyph cache and all local storage, keep this</span></div>
<div class="line">  <span class="comment">// object around for the lifetime of your program</span></div>
<div class="line">  <a class="code" href="class_s_t_l_l_1_1show_s_d_l.html">showSDL&lt;&gt;</a> show;</div>
<div class="line">  show.<a class="code" href="class_s_t_l_l_1_1show_s_d_l.html#a5fc650bb58a77c2b09c4c2ad1c4e48d5">showLayout</a>(layout, 20*64, 20*64, screen);</div>
<div class="line">  SDL_Flip(screen);</div>
<div class="line">  sleep(10);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// now you can get rid of the cache, if you want</span></div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="tut_xhtml_sec"></a>
Using the XHTML Layouter and the OpenGL output</h1>
<p>The XHTML layouter takes a subsection of XHTML as a string and parses it and uses the paragraph layouter to layout the text. Here you specify the format using html and css-like formatting information.</p>
<p>The XHTML Layouter comes with 2 entry points. One takes a string, parses that string into a DOM-tree and works with that tree.</p>
<p>The other choice is to directly input a DOM-tree on your own.</p>
<p>For the XHTML layouter the flow is slightly different: </p><div class="fragment"><div class="line"><span class="comment">// you have to define the xml library you want to use for the xml</span></div>
<div class="line"><span class="comment">// parser. STLL needs to be compiled with this library</span></div>
<div class="line"><span class="preprocessor">#define USE_PUGI_XML</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="layouter_x_h_t_m_l_8h.html">stll/layouterXHTML.h</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;GL/glew.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;GLFW/glfw3.h&gt;</span></div>
<div class="line"><span class="comment">// include your OpenGL stuff _before_ this header</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="output___open_g_l_8h.html">stll/output_OpenGL.h</a>&gt;</span></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_s_t_l_l.html">STLL</a>;</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main()</div>
<div class="line">{</div>
<div class="line">  <span class="comment">// setup a stylesheet, this will automatically creata a font cache</span></div>
<div class="line">  <span class="comment">// for you. typically you will have one or only a few stylesheets in</span></div>
<div class="line">  <span class="comment">// your application, if you have more than one you should share the</span></div>
<div class="line">  <span class="comment">// font cache between them</span></div>
<div class="line">  <a class="code" href="class_s_t_l_l_1_1_text_style_sheet__c.html">TextStyleSheet_c</a> styleSheet;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// add the fonts that are required</span></div>
<div class="line">  <span class="comment">// we create one font family named &quot;sans&quot; with 2 members, a normal and a bold one</span></div>
<div class="line">  styleSheet.<a class="code" href="class_s_t_l_l_1_1_text_style_sheet__c.html#a7f7e8de26907406e854b770d33a6df99">addFont</a>(<span class="stringliteral">&quot;sans&quot;</span>, <a class="code" href="class_s_t_l_l_1_1_font_resource__c.html">FontResource_c</a>(<span class="stringliteral">&quot;tests/FreeSans.ttf&quot;</span>));</div>
<div class="line">  styleSheet.<a class="code" href="class_s_t_l_l_1_1_text_style_sheet__c.html#a7f7e8de26907406e854b770d33a6df99">addFont</a>(<span class="stringliteral">&quot;sans&quot;</span>, <a class="code" href="class_s_t_l_l_1_1_font_resource__c.html">FontResource_c</a>(<span class="stringliteral">&quot;tests/FreeSansBold.ttf&quot;</span>), <span class="stringliteral">&quot;normal&quot;</span>, <span class="stringliteral">&quot;normal&quot;</span>, <span class="stringliteral">&quot;bold&quot;</span>);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// add the CSS rules you need, this should be familiar to everybody knowing CSS</span></div>
<div class="line">  styleSheet.<a class="code" href="class_s_t_l_l_1_1_text_style_sheet__c.html#a960a9f109e846aed17a38b914a995545">addRule</a>(<span class="stringliteral">&quot;body&quot;</span>, <span class="stringliteral">&quot;color&quot;</span>, <span class="stringliteral">&quot;#ffffff&quot;</span>);</div>
<div class="line">  styleSheet.<a class="code" href="class_s_t_l_l_1_1_text_style_sheet__c.html#a960a9f109e846aed17a38b914a995545">addRule</a>(<span class="stringliteral">&quot;body&quot;</span>, <span class="stringliteral">&quot;font-size&quot;</span>, <span class="stringliteral">&quot;20px&quot;</span>);</div>
<div class="line">  styleSheet.<a class="code" href="class_s_t_l_l_1_1_text_style_sheet__c.html#a960a9f109e846aed17a38b914a995545">addRule</a>(<span class="stringliteral">&quot;body&quot;</span>, <span class="stringliteral">&quot;text-align&quot;</span>, <span class="stringliteral">&quot;justify&quot;</span>);</div>
<div class="line">  styleSheet.<a class="code" href="class_s_t_l_l_1_1_text_style_sheet__c.html#a960a9f109e846aed17a38b914a995545">addRule</a>(<span class="stringliteral">&quot;body&quot;</span>, <span class="stringliteral">&quot;padding&quot;</span>, <span class="stringliteral">&quot;10px&quot;</span>);</div>
<div class="line">  styleSheet.<a class="code" href="class_s_t_l_l_1_1_text_style_sheet__c.html#a960a9f109e846aed17a38b914a995545">addRule</a>(<span class="stringliteral">&quot;h1&quot;</span>, <span class="stringliteral">&quot;font-weight&quot;</span>, <span class="stringliteral">&quot;bold&quot;</span>);</div>
<div class="line">  styleSheet.<a class="code" href="class_s_t_l_l_1_1_text_style_sheet__c.html#a960a9f109e846aed17a38b914a995545">addRule</a>(<span class="stringliteral">&quot;h1&quot;</span>, <span class="stringliteral">&quot;font-size&quot;</span>, <span class="stringliteral">&quot;60px&quot;</span>);</div>
<div class="line">  styleSheet.<a class="code" href="class_s_t_l_l_1_1_text_style_sheet__c.html#a960a9f109e846aed17a38b914a995545">addRule</a>(<span class="stringliteral">&quot;h1&quot;</span>, <span class="stringliteral">&quot;text-align&quot;</span>, <span class="stringliteral">&quot;center&quot;</span>);</div>
<div class="line">  styleSheet.<a class="code" href="class_s_t_l_l_1_1_text_style_sheet__c.html#a960a9f109e846aed17a38b914a995545">addRule</a>(<span class="stringliteral">&quot;h1&quot;</span>, <span class="stringliteral">&quot;background-color&quot;</span>, <span class="stringliteral">&quot;#FF8080&quot;</span>);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// The XHTML code we want to format, it needs to be utf-8 encoded</span></div>
<div class="line">  std::string text = u8<span class="stringliteral">&quot;&lt;html&gt;&lt;body&gt;&lt;h1&gt;Title&lt;/h1&gt;&lt;p&gt;Some text&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;&quot;</span>;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// layout the XHTML code, in a 200 pixel wide rectangle</span></div>
<div class="line">  <span class="keyword">auto</span> layout = <a class="code" href="namespace_s_t_l_l.html#a6b3018805d08e36d166c6247c1d0783b">layoutXHTMLPugi</a>(text, styleSheet, <a class="code" href="class_s_t_l_l_1_1_rectangle_shape__c.html">RectangleShape_c</a>(200*64));</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"> </div>
<div class="line">  <span class="comment">// output the layout using OpenGL... this is a bit more complicated than SDL</span></div>
<div class="line">  <span class="comment">// the example uses glfw for the context creation and glew for extensions</span></div>
<div class="line"></div>
<div class="line">  <span class="comment">// initialite glfw, setup window hints</span></div>
<div class="line">  <span class="keywordflow">if</span> (!glfwInit()) <span class="keywordflow">return</span> 1;</div>
<div class="line">  glfwWindowHint(GLFW_CONTEXT_VERSION_MAJOR, 3);</div>
<div class="line">  glfwWindowHint(GLFW_CONTEXT_VERSION_MINOR, 3);</div>
<div class="line">  glfwWindowHint(GLFW_OPENGL_FORWARD_COMPAT, GL_TRUE);</div>
<div class="line">  <span class="comment">// this hint is important for sRGB correct output</span></div>
<div class="line">  glfwWindowHint(GLFW_SRGB_CAPABLE, GL_TRUE);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// create the context and activate it</span></div>
<div class="line">  GLFWwindow* screen = glfwCreateWindow(800, 600, <span class="stringliteral">&quot;OpenGL example&quot;</span>, NULL, NULL);</div>
<div class="line">  <span class="keywordflow">if</span>(!screen) <span class="keywordflow">return</span> 1;</div>
<div class="line">  glfwMakeContextCurrent(screen);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// glew needs to be initialized _after_ the context has been created, also</span></div>
<div class="line">  <span class="comment">// this strange experimental flag has to be active... otherwise it will not</span></div>
<div class="line">  <span class="comment">// work, at least for the current version</span></div>
<div class="line">  glewExperimental = <span class="keyword">true</span>;</div>
<div class="line">  <span class="keywordflow">if</span> (glewInit() != GLEW_OK) <span class="keywordflow">return</span> 1;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// create out output object using OpenGL 3 features, use the default values for</span></div>
<div class="line">  <span class="comment">// the texture cache... which is too big here, but should be good for normal usage</span></div>
<div class="line">  <a class="code" href="class_s_t_l_l_1_1show_open_g_l.html">showOpenGL&lt;3&gt;</a> openGL;</div>
<div class="line">  <span class="comment">// this sets up the projection matrix, or the shader equivalents for them, you</span></div>
<div class="line">  <span class="comment">// need to call it only once for OpenGL3, except when you change the viewport</span></div>
<div class="line">  <span class="comment">// for OpenGL 1 you need to call it whenever you start outputting as it sets up</span></div>
<div class="line">  <span class="comment">// modelview and projection matricies</span></div>
<div class="line">  openGL.<a class="code" href="class_s_t_l_l_1_1show_open_g_l.html#a869d2e13e08f3515139987cc0d5423e6">setupMatrixes</a>(800, 600);</div>
<div class="line">  <span class="comment">// this is the drawing cache, we don&#39;t need it for this example, as we only draw once</span></div>
<div class="line">  <span class="comment">// but to show how it is supposed to work...</span></div>
<div class="line">  <a class="code" href="class_s_t_l_l_1_1show_open_g_l.html#a30f8e3aa941d00239668d0ed137d5ec0">showOpenGL&lt;3&gt;::DrawCache_c</a> dc;</div>
<div class="line"></div>
<div class="line">  glClearColor(0, 0, 0, 0);</div>
<div class="line">  glClear(GL_COLOR_BUFFER_BIT);</div>
<div class="line">  <span class="comment">// don&#39;t forget to actually enable the sRGB framebuffer...</span></div>
<div class="line">  glEnable(GL_FRAMEBUFFER_SRGB);</div>
<div class="line">  <span class="comment">// this is the actual draw call for the layout, if you don&#39;t want a cache, simply</span></div>
<div class="line">  <span class="comment">// give a nullptr to the function instead of &amp;dc</span></div>
<div class="line">  <span class="comment">// after this call the cache is &quot;bound&quot; to the layout. You may only use it with this</span></div>
<div class="line">  <span class="comment">// layout, everything else will not work</span></div>
<div class="line">  openGL.<a class="code" href="class_s_t_l_l_1_1show_open_g_l.html#abb41ad4cbfc5502a2a311f8813d30029">showLayout</a>(layout, 20*64, 20*64, <a class="code" href="namespace_s_t_l_l.html#ac0004512e3161f751911cb1352dbd550a7cd968714b637b39ec9397c0120cedb7">SUBP_RGB</a>, <span class="keyword">nullptr</span>, &amp;dc);</div>
<div class="line">  glfwSwapBuffers(screen);</div>
<div class="line">  <span class="comment">// wait until user closed the window</span></div>
<div class="line">  <span class="keywordflow">while</span> (!glfwWindowShouldClose(screen)) glfwPollEvents();</div>
<div class="line">  glfwDestroyWindow(screen);</div>
<div class="line">  glfwTerminate();</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="tut_hyph_sec"></a>
Using hyphenation dictionaries</h1>
<p>The following example shows how to use hyphenation. There are only 2 things to do:</p><ul>
<li>register the dictionaries required for your language</li>
<li>provide a language information, either as an attribute in the XHTML code, or to the member variable lang in the CodepointAttributes_c of you text</li>
</ul>
<div class="fragment"><div class="line"><span class="preprocessor">#define USE_PUGI_XML</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="layouter_x_h_t_m_l_8h.html">stll/layouterXHTML.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="output___s_d_l_8h.html">stll/output_SDL.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="hyphendictionaries_8h.html">stll/hyphendictionaries.h</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;stll/hyphenationdictionaries/hyph_en_US.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stll/hyphenationdictionaries/hyph_de_DE_gz.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;boost/iostreams/filter/gzip.hpp&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;boost/iostreams/filtering_stream.hpp&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_s_t_l_l.html">STLL</a>;</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> main()</div>
<div class="line">{</div>
<div class="line">  <span class="comment">// all the stuff you already know to setup the style sheet</span></div>
<div class="line">  <a class="code" href="class_s_t_l_l_1_1_text_style_sheet__c.html">TextStyleSheet_c</a> styleSheet;</div>
<div class="line">  styleSheet.<a class="code" href="class_s_t_l_l_1_1_text_style_sheet__c.html#a7f7e8de26907406e854b770d33a6df99">addFont</a>(<span class="stringliteral">&quot;sans&quot;</span>, <a class="code" href="class_s_t_l_l_1_1_font_resource__c.html">FontResource_c</a>(<span class="stringliteral">&quot;tests/FreeSans.ttf&quot;</span>));</div>
<div class="line">  styleSheet.<a class="code" href="class_s_t_l_l_1_1_text_style_sheet__c.html#a7f7e8de26907406e854b770d33a6df99">addFont</a>(<span class="stringliteral">&quot;sans&quot;</span>, <a class="code" href="class_s_t_l_l_1_1_font_resource__c.html">FontResource_c</a>(<span class="stringliteral">&quot;tests/FreeSansBold.ttf&quot;</span>), <span class="stringliteral">&quot;normal&quot;</span>, <span class="stringliteral">&quot;normal&quot;</span>, <span class="stringliteral">&quot;bold&quot;</span>);</div>
<div class="line">  styleSheet.<a class="code" href="class_s_t_l_l_1_1_text_style_sheet__c.html#a960a9f109e846aed17a38b914a995545">addRule</a>(<span class="stringliteral">&quot;body&quot;</span>, <span class="stringliteral">&quot;color&quot;</span>, <span class="stringliteral">&quot;#ffffff&quot;</span>);</div>
<div class="line">  styleSheet.<a class="code" href="class_s_t_l_l_1_1_text_style_sheet__c.html#a960a9f109e846aed17a38b914a995545">addRule</a>(<span class="stringliteral">&quot;body&quot;</span>, <span class="stringliteral">&quot;font-size&quot;</span>, <span class="stringliteral">&quot;20px&quot;</span>);</div>
<div class="line">  styleSheet.<a class="code" href="class_s_t_l_l_1_1_text_style_sheet__c.html#a960a9f109e846aed17a38b914a995545">addRule</a>(<span class="stringliteral">&quot;body&quot;</span>, <span class="stringliteral">&quot;text-align&quot;</span>, <span class="stringliteral">&quot;justify&quot;</span>);</div>
<div class="line">  styleSheet.<a class="code" href="class_s_t_l_l_1_1_text_style_sheet__c.html#a960a9f109e846aed17a38b914a995545">addRule</a>(<span class="stringliteral">&quot;body&quot;</span>, <span class="stringliteral">&quot;padding&quot;</span>, <span class="stringliteral">&quot;10px&quot;</span>);</div>
<div class="line">  styleSheet.<a class="code" href="class_s_t_l_l_1_1_text_style_sheet__c.html#a960a9f109e846aed17a38b914a995545">addRule</a>(<span class="stringliteral">&quot;h1&quot;</span>, <span class="stringliteral">&quot;font-weight&quot;</span>, <span class="stringliteral">&quot;bold&quot;</span>);</div>
<div class="line">  styleSheet.<a class="code" href="class_s_t_l_l_1_1_text_style_sheet__c.html#a960a9f109e846aed17a38b914a995545">addRule</a>(<span class="stringliteral">&quot;h1&quot;</span>, <span class="stringliteral">&quot;font-size&quot;</span>, <span class="stringliteral">&quot;60px&quot;</span>);</div>
<div class="line">  styleSheet.<a class="code" href="class_s_t_l_l_1_1_text_style_sheet__c.html#a960a9f109e846aed17a38b914a995545">addRule</a>(<span class="stringliteral">&quot;h1&quot;</span>, <span class="stringliteral">&quot;text-align&quot;</span>, <span class="stringliteral">&quot;center&quot;</span>);</div>
<div class="line">  styleSheet.<a class="code" href="class_s_t_l_l_1_1_text_style_sheet__c.html#a960a9f109e846aed17a38b914a995545">addRule</a>(<span class="stringliteral">&quot;h1&quot;</span>, <span class="stringliteral">&quot;background-color&quot;</span>, <span class="stringliteral">&quot;#FF8080&quot;</span>);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// The following lines demonstrate 2 possible ways to register hyphenation</span></div>
<div class="line">  <span class="comment">// dictionaries.</span></div>
<div class="line">  <span class="comment">// both use the provided hyphenation dictionaries that come with STLL</span></div>
<div class="line">  <span class="comment">// to use them you need to include the headers containing the dictionaries.</span></div>
<div class="line">  <span class="comment">// the included dictionaries are provided in 2 different forms: as a string</span></div>
<div class="line">  <span class="comment">// that contains the whole dictionary</span></div>
<div class="line">  <span class="comment">// and as n byte array containing the dictionary compressed using zlib.</span></div>
<div class="line">  <span class="comment">// if you already have to ling against zlib anyway that might be useful</span></div>
<div class="line">  <span class="comment">// you only pay for the dictionaries you are actually using as the</span></div>
<div class="line">  <span class="comment">// dictionaries are only within the header.</span></div>
<div class="line">  <span class="comment">// It is your responsibility to only include the headers once or your program</span></div>
<div class="line">  <span class="comment">// will be unnecessarily big.So a good practice for your program would be to</span></div>
<div class="line">  <span class="comment">// have a module that sets up all the required dictionaries.</span></div>
<div class="line"></div>
<div class="line">  <span class="comment">// us this line is the probably best way to load the uncompressed dictionary</span></div>
<div class="line">  <span class="comment">// you can provide multiple languages to register the dictionary for, but make</span></div>
<div class="line">  <span class="comment">// sure to not load the same dictionary twice as that would waste your memory</span></div>
<div class="line">  <span class="comment">// also you can use country code.</span></div>
<div class="line">  <a class="code" href="namespace_s_t_l_l.html#a2df2ef46b246a9d319937f645b230836">STLL::addHyphenDictionary</a>({<span class="stringliteral">&quot;en&quot;</span>, <span class="stringliteral">&quot;en-us&quot;</span>}, std::istringstream((<span class="keyword">const</span> <span class="keywordtype">char</span>*)hyph_en_US));</div>
<div class="line"></div>
<div class="line">  <span class="comment">// for zlib there is no one right way. The following lines demonstrate using boosts</span></div>
<div class="line">  <span class="comment">// iostream library, but there are surely others out there</span></div>
<div class="line">  {</div>
<div class="line">    boost::iostreams::filtering_istream in;</div>
<div class="line">    in.push(boost::iostreams::gzip_decompressor());</div>
<div class="line">    boost::iostreams::array_source src((<span class="keyword">const</span> <span class="keywordtype">char</span>*)hyph_de_DE_gz, hyph_de_DE_gz_len);</div>
<div class="line">    in.push(src);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="namespace_s_t_l_l.html#a2df2ef46b246a9d319937f645b230836">STLL::addHyphenDictionary</a>({<span class="stringliteral">&quot;de&quot;</span>}, in);</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="comment">// The XHTML code we want to format, you will need to supply language</span></div>
<div class="line">  <span class="comment">// tags or otherwise nothing will be hyphenated. Texts without language</span></div>
<div class="line">  <span class="comment">// tag are never hyphenated</span></div>
<div class="line">  <span class="comment">// when the code is looking for a dictionary to use, it will first look for</span></div>
<div class="line">  <span class="comment">// the most specific, but then it will start stripping away elements from the specification</span></div>
<div class="line">  <span class="comment">// until is finds a dictionary, so it will first look for de-de, then for a dictionary</span></div>
<div class="line">  <span class="comment">// for the language de</span></div>
<div class="line">  std::string text = u8<span class="stringliteral">&quot;&lt;html&gt;&lt;body&gt;&quot;</span></div>
<div class="line">    <span class="stringliteral">&quot;&lt;p lang=&#39;en&#39;&gt;Text in English language&lt;/p&gt;&quot;</span></div>
<div class="line">    <span class="stringliteral">&quot;&lt;p lang=&#39;de-de&#39;&gt;Text in deutscher Sprache&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;&quot;</span>;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// use a 100 pixel wide rectangle so that we actually see hyphenation</span></div>
<div class="line">  <span class="keyword">auto</span> layout = <a class="code" href="namespace_s_t_l_l.html#a6b3018805d08e36d166c6247c1d0783b">layoutXHTMLPugi</a>(text, styleSheet, <a class="code" href="class_s_t_l_l_1_1_rectangle_shape__c.html">RectangleShape_c</a>(100*64));</div>
<div class="line"></div>
<div class="line">  <span class="comment">// output using SDL as already known</span></div>
<div class="line">  SDL_Surface *screen = SDL_SetVideoMode(800, 600, 32, SDL_SWSURFACE | SDL_DOUBLEBUF);</div>
<div class="line">  <a class="code" href="class_s_t_l_l_1_1show_s_d_l.html">showSDL&lt;&gt;</a> show;</div>
<div class="line">  show.<a class="code" href="class_s_t_l_l_1_1show_s_d_l.html#a5fc650bb58a77c2b09c4c2ad1c4e48d5">showLayout</a>(layout, 20*64, 0*64, screen, <a class="code" href="namespace_s_t_l_l.html#ac0004512e3161f751911cb1352dbd550a7cd968714b637b39ec9397c0120cedb7">SUBP_RGB</a>);</div>
<div class="line">  SDL_Flip(screen);</div>
<div class="line">  sleep(10);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sat Feb 27 2016 20:56:34 for STLL by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
